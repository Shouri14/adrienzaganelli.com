<% const projects = require("@js/models/data").default %>
<% const preloadedImgs = projects.map( p => {
  return p.link
}) %>

<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title><%= htmlWebpackPlugin.options.title %></title>
    <!-- https://github.com/joshbuchea/HEAD -->

    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="Adrien Zaganelli's Portfolio, student at HETIC">
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">

    <link rel="icon" type="image/png" href="favicon.png" />

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body class="no-scroll">
      <noscript>
        <h1>Adrien Zaganelli</h1>
        <p>Projects:</p>
        <ul><% projects.map( (p, index) => { %>
          <li>#<%= index %>: <a href="<%= p.link %>"><%= p.name %></a></li>
        <% }) %></ul>
      </noscript>

      <div class="preloader" style="position: absolute; top: -99999px; left: -9999999px">
        <% projects.map( (p, index) => { %>
          <img src="<%= p.cover %>" width="1" height="1">
        <% }) %>
      </div>

    <div id="app"></div>

    <script async>
      preloadedImgs = <%= JSON.stringify(preloadedImgs) %>
    </script>
    <!--SCRIPTS are auto-imported-->
  </body>
</html>
